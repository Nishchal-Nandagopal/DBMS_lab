create database Bookdealer;
use Bookdealer;
CREATE TABLE AUTHOR(AUTHOR_ID int,NAME varchar(20),CITY VARCHAR(20),COUNTRY VARCHAR(20),PRIMARY KEY(AUTHOR_ID));
show tables;
desc AUTHOR;
SELECT *FROM AUTHOR;
create table publisher(publisher_id int, name varchar(20),city varchar(20),country varchar(20),Primary key(publisher_id));
create table category(category_id int, description varchar(20),Primary key(category_id));
create table catalog(book_id int, title varchar(20),author_id int, publisher_id int, category_id int, year int, price int,Primary key(book_id),
foreign key(publisher_id) references publisher(publisher_id) on delete cascade,foreign key(category_id) references category(category_id) on delete cascade);
create table order_details(order_no int, book_id int, quantity int,Primary key(order_no),foreign key(book_id) references catalog(book_id) on delete cascade);
show tables;
insert into AUTHOR(AUTHOR_ID,NAME,CITY,COUNTRY)values('1001','TERAS CHAN','CA','USA');
insert into AUTHOR(AUTHOR_ID,NAME,CITY,COUNTRY)values('1002','STEVENS','ZOMBI','UGANDA');
insert into AUTHOR(AUTHOR_ID,NAME,CITY,COUNTRY)values('1003','M MANO','CAIR','UGANDA');
insert into AUTHOR(AUTHOR_ID,NAME,CITY,COUNTRY)values('1004','KARHTIK B P','NY','USA');
insert into AUTHOR(AUTHOR_ID,NAME,CITY,COUNTRY)values('1005','WILLIAM STALLINGS','LAS VEGAS','USA');
COMMIT;
desc AUTHOR;
SELECT *FROM AUTHOR;
insert into PUBLISHER(publisher_id,NAME,CITY,COUNTRY)values('1','PEARSON','NEW YORK',' USA');
insert into PUBLISHER(publisher_id,NAME,CITY,COUNTRY)values('2','EEE','NEW SOUTH VALES',' USA');
insert into PUBLISHER(publisher_id,NAME,CITY,COUNTRY)values('3','PHI','DELHI',' INDIA');
insert into PUBLISHER(publisher_id,NAME,CITY,COUNTRY)values('4','WILLEY','BERLIN','GERMANY');
insert into PUBLISHER(publisher_id,NAME,CITY,COUNTRY)values('5','MGH','NEW YORK',' USA');
COMMIT;
desc PUBLISHER;
SELECT * FROM PUBLISHER;
insert into CATEGORY(CATEGORY_ID, DESCRIPTION)values('1001','COMPUTER SCIENCE');
insert into CATEGORY(CATEGORY_ID, DESCRIPTION)values('1002','ALGORITHM DESIGN');
insert into CATEGORY(CATEGORY_ID, DESCRIPTION)values('1003','ELECTRONICS');
insert into CATEGORY(CATEGORY_ID, DESCRIPTION)values('1004','PROGRAMMING');
insert into CATEGORY(CATEGORY_ID, DESCRIPTION)values('1005','OPERATING SYSTEMS');
COMMIT;
desc CATEGORY;
SELECT * FROM CATEGORY;
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('11',' Unix System Prg','1001','1','1001','2000','251');
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('12',' Digital Signals',' 1002',' 2','1003',' 2001','425');
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('13',' Logic Design',' 1003',' 3','1002',' 1999','225');
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('14','Server Prg','1004','4','1004','2001','333');
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('15','Linux OS',' 1005',' 5','1005',' 2003','326');
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('16',' C++ Bible',' 1005',' 5',' 1001','2000','526');
insert into CATALOG(BOOK_ID,TITLE,AUTHOR_ID,PUBLISHER_ID,CATEGORY_ID,YEAR,PRICE)values('17',' COBOL Handbook',' 1005',' 4',' 1001','2000','658');
COMMIT;
desc CATALOG;
SELECT * FROM CATALOG;
insert into ORDER_DETAILS(ORDER_NO,BOOK_ID,QUANTITY)values('1',' 11',' 5');
insert into ORDER_DETAILS(ORDER_NO,BOOK_ID,QUANTITY)values('2','12','8');
insert into ORDER_DETAILS(ORDER_NO,BOOK_ID,QUANTITY)values('3','13','15');
insert into ORDER_DETAILS(ORDER_NO,BOOK_ID,QUANTITY)values('4','14','22');
insert into ORDER_DETAILS(ORDER_NO,BOOK_ID,QUANTITY)values('5','15','3');
insert into ORDER_DETAILS(ORDER_NO,BOOK_ID,QUANTITY)values('2','17','10');
COMMIT;
desc ORDER_DETAILS;
SELECT *FROM ORDER_DETAILS;
SELECT AUTHOR.author_id,name,city,country FROM AUTHOR,CATALOG where AUTHOR.author_id=CATALOG.author_id group by CATALOG.author_id having count(CATALOG.author_id)>=2;
SELECT PRICE FROM CATALOG where year>2000;
select name from AUTHOR,CATALOG where AUTHOR.author_id=CATALOG.author_id and book_id in(select book_id from ORDER_DETAILS where quantity=(select max(quantity) from ORDER_DETAILS));
update CATALOG set price=1.1*price where publisher_id in(select publisher_id from PUBLISHER where name='PEARSON');
COMMIT;
SELECT *FROM CATALOG;